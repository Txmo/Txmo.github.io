<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Txmo's</title>
    <link rel="stylesheet" type="text/css" href="css/transaction.css">
    <script type="text/javascript" src="js/main.js"></script>
    <script type="text/javascript" src="js/spk.js"></script>
    <script type="text/javascript" src="js/html.js"></script>
    <script type="text/javascript" src="js/transaction.js"></script>
    <script type="text/javascript" src="js/group.js"></script>
</head>

<body>
    <div class="">
        <div class="">
            <div class="">
                <input id="file" class="" type="file" accept=".csv">
            </div>
        </div>
    </div>
    <div class="">
        <div class="">
            <button type="button" id="trigger" class="">Parse</button>
        </div>
    </div>

    <div class="">
        <div id="main" class="">
            <div class="">
                Main
            </div>
        </div>
        <div class="" ondrop="html.drop(event)" ondragover="html.allowDrop(event)">
            <div class="">
                <button type="button" id="groupButton">Create Group</button>
                <div id="addGroupDiv" class="addGroupDiv">
                    <input id="groupName" type="text" placeholder="Groupname">
                    <button id="addGroupButton" type="button">Add Group</button>
                    <button id="closeGroupCreation" type="button">Cancel</button>
                </div>
            </div>
            <div id="groupList" class="groupList">
            </div>
        </div>
    </div>

    <div>
        <div id="side" class="">

        </div>
    </div>

    <footer class="">
        <div class="">
            <p>CSV to Array by
                <a href="https://stackoverflow.com/questions/1293147/javascript-code-to-parse-csv-data#answer-14991797"
                    target="_blank">Trevor Dixon</a>
            </p>
        </div>
    </footer>
    <script type="text/javascript">
        var spk = new Spk();
        document.getElementById('trigger').addEventListener('click', () => {
            var input = document.getElementById('file');
            var reader = new FileReader();
            reader.onload = () => {
                spk.parse(Parser.parse(reader.result));
                spk.minimizeAll();
            };
            reader.readAsBinaryString(input.files[0]);
        });

        document.getElementById('groupButton').addEventListener('click', (e) => {
            html.showGroupCreation(e.target);
        });

        document.getElementById('addGroupButton').addEventListener('click', (e) => {
            html.addGroup(e.target);
        });

        document.getElementById('closeGroupCreation').addEventListener('click', () => {
            html.cancelGroupCreation();
        });


    </script>
</body>

</html>